* Copy as Org-Mode
A WebExtension to copy selected web page into Org-mode formatted text!

* Install
- [[https://addons.mozilla.org/en-US/firefox/addon/copy-as-org-mode/][Mozilla Add-ons]]

* Screenshot
[[]]

* Supported Browser
- Firefox for Desktop >= 92

* Requirements for Development
- Node
- web-ext
- GNU Make

* Development
** Prepare
#+BEGIN_SRC sh
npm i
#+END_SRC

** Run for development (Watch)
#+BEGIN_SRC sh
make dev
web-ext run --verbose --firefox-profile ~/.mozilla/firefox/PROFILE_DIR_NAME
#+END_SRC
#+BEGIN_QUOTE
If webpack watch exit immediately without any error, please try [[https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers]]
#+END_QUOTE

** Run Firefox for developing WebExtension
#+BEGIN_SRC sh
web-ext run --verbose --firefox-profile ~/.mozilla/firefox/XXXXXXX.NAME
#+END_SRC

** Deploy (Build .xpi file & run a HTTP server for download)
#+BEGIN_SRC sh
make xpi-server
#+END_SRC

** Zip this repository for uploading to addons.mozilla.org
#+BEGIN_SRC sh
make zip-repo
#+END_SRC


* Known Issues (Please feel free to open PR to fix them)
- HTTPS is required. In HTTP connection, =navigator.clipboard= is unavailable.
- Nested mark (e.g. =*_+a+_*=) may has some issues.
- =<pre>= may lost newlines in some page (e.g. https://kuanyui.github.io/2017/08/16/macros-for-qproperty/). I still cannot find the reason.

* Acknowedgement
  This project referred, forked, or used some parts of the codes from the other projects:

| Project URL                                                                             | Usage                                               | Licenses of Used Parts |
|-----------------------------------------------------------------------------------------+-----------------------------------------------------+------------------------|
| [[https://github.com/0x6b/copy-selection-as-markdown][0x6b/copy-selection-as-markdown]] | Main project structure; copy and selection handling | MIT                    |
| [[https://github.com/mixmark-io/turndown][mixmark-io/turndown]]                         | Forked as HTML to Org-Mode converter                | MIT                    |
| [[https://github.com/piroor/treestyletab/][piroor/treestyletab]]                        | The CSS for ~options_ui~ (settings page)            | MPL 2.0; MIT           |


* TODOs
- Customizable keyboard shortcuts.
- Image to data URL?
- Buttons for Fenix
* License
WTFPL 2.0
